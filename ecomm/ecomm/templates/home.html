{% extends 'base.html' %}
{% load static %}
{% block content %}

    {% include 'partials/carousel.html' %}
    <!-- Product Section Begin -->
    <div class="new-arrival">
        <div class="container">
            <!-- Section tittle -->
            <div class="row justify-content-center section-tittle">
                <div class="col-xl-7 col-lg-8 col-md-10">
                    <div class="section-tittle mb-60 text-center wow fadeInUp" data-wow-duration="2s" data-wow-delay=".2s">
                        <h2>new<br>arrival</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <ul class="filter__controls">
                        <li class="active" data-filter="*">All</li>
                        <li data-filter=".B">Baju</li>
                        <li data-filter=".S">Sepatu</li>
                        <li data-filter=".T">Tas</li>
                        <li>
                            <input type="text" id="filter-input" placeholder="Filter berdasarkan kategori">
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row product__filter" id="galeri-container">
                
                    {% for pItem in products %}
                    <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 mix {{ pItem.kategori }} galeri-item" data-kategori="{{ pItem.nama_produk }}">
                        <div class="single-new-arrival mb-50 text-center wow fadeInUp" id="data-galeri" data-wow-duration="1s" data-wow-delay=".1s">
                            <div class="popular-img">
                                <img src="{{ pItem.gambar.url }}" alt="{{ pItem.nama_produk }}">
                                <div class="favorit-items">
                                    <!-- <span class="flaticon-heart"></span> -->
                                    <span class="badge bg-{{ pItem.get_label_display }} ms-2">{{ pItem.label }}</span>
                                </div>
                            </div>
                            <div class="popular-caption">
                                <h3><a href="{{ pItem.get_absolute_url }}">{{ pItem.nama_produk }}</a></h3>
                                <p>{{ pItem.get_kategori_display }}</p>
                                
                                <div class="rating mb-10">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <span>Rp. {% if pItem.harga_diskon %}{{ pItem.harga_diskon }}{% else %}{{ pItem.harga }}{% endif %}</span>
                            </div>
                        </div>
                    </div>
                    {% empty %}
                    <div class="col-md-12 text-center my-5">
                        <h2>(Data Produk belum tersedia)</h2>   
                    </div>
                    {% endfor %}
                </div>
            
            <!-- Button -->
            <div class="row justify-content-center">
                <div class="room-btn">
                    <a href="#" class="primary-btn">Browse More</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Product Section End -->
    <!-- Pagination -->
    <!-- Paginasi -->
    <nav aria-label="Page navigation example" class="d-flex justify-content-center mt-3">
        <ul class="pagination">
            <li class="page-item">
                {% if products.has_previous %}
                    <a href="?page=1">&laquo; first</a>
                    <a href="?page={{ products.previous_page_number }}">previous</a>
                {% endif %}
            </li>
            <li class="page-item active"><a class="page-link" href="#"><span class="current-page">{{ products.number }}</span></a></li>
            <li class="page-item">
                {% if products.has_next %}
                <a href="?page={{ products.next_page_number }}">next</a>
                <a href="?page={{ products.paginator.num_pages }}">last &raquo;</a>
            {% endif %}
            </li>
        </ul>
    </nav>
    <!-- Pagination -->

    <!-- Instagram Section Begin -->
    <section class="instagram spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="instagram__pic">
                        <div class="instagram__pic__item set-bg" data-setbg="{% static 'img/instagram/instagram-1.jpg' %}"></div>
                        <div class="instagram__pic__item set-bg" data-setbg="{% static 'img/instagram/instagram-2.jpg' %}"></div>
                        <div class="instagram__pic__item set-bg" data-setbg="{% static 'img/instagram/instagram-3.jpg' %}"></div>
                        <div class="instagram__pic__item set-bg" data-setbg="{% static 'img/instagram/instagram-4.jpg' %}"></div>
                        <div class="instagram__pic__item set-bg" data-setbg="{% static 'img/instagram/instagram-5.jpg' %}"></div>
                        <div class="instagram__pic__item set-bg" data-setbg="{% static 'img/instagram/instagram-6.jpg' %}"></div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="instagram__text">
                        <h2>Instagram</h2>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua.</p>
                        <h3>#Male_Fashion</h3>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Instagram Section End -->

    <!-- Latest Blog Section Begin -->
    <section class="latest spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <span>Latest News</span>
                        <h2>Fashion New Trends</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="blog__item">
                        <div class="blog__item__pic set-bg" data-setbg="{% static 'img/blog/blog-1.jpg' %}"></div>
                        <div class="blog__item__text">
                            <span><img src="{% static 'img/icon/calendar.png' %}" alt=""> 16 February 2020</span>
                            <h5>What Curling Irons Are The Best Ones</h5>
                            <a href="#">Read More</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="blog__item">
                        <div class="blog__item__pic set-bg" data-setbg="{% static 'img/blog/blog-2.jpg' %}"></div>
                        <div class="blog__item__text">
                            <span><img src="{% static 'img/icon/calendar.png' %}" alt=""> 21 February 2020</span>
                            <h5>Eternity Bands Do Last Forever</h5>
                            <a href="#">Read More</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="blog__item">
                        <div class="blog__item__pic set-bg" data-setbg="{% static 'img/blog/blog-3.jpg' %}"></div>
                        <div class="blog__item__text">
                            <span><img src="{% static 'img/icon/calendar.png' %}" alt=""> 28 February 2020</span>
                            <h5>The Health Benefits Of Sunglasses</h5>
                            <a href="#">Read More</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Latest Blog Section End -->

    <script>
        const filterInput = document.getElementById('filter-input');
        const galeriContainer = document.getElementById('galeri-container');
        const galeriItems = Array.from(document.getElementsByClassName('galeri-item'));
        
        filterInput.addEventListener('input', () => {
            const filterValue = filterInput.value.toLowerCase();
            
            galeriItems.forEach((galeriItem) => {
                const kategori = galeriItem.getAttribute('data-kategori').toLowerCase();
                
                if (kategori.includes(filterValue)) {
                    galeriItem.style.display = 'block';
                } else {
                    galeriItem.style.display = 'none';
                }
            });
        });
    </script>


{% endblock content %}